
# 📺 智能电视剧分析剪辑系统

## 🤖 AI驱动的智能剪辑工具

这是一个基于AI大模型的电视剧智能分析和视频剪辑系统，能够：

- 🧠 **AI智能分析**: 调用多种大模型接口，智能识别剧情高潮
- 🎯 **自适应分析**: 不依赖固定关键词，适应各种剧情类型
- ✂️ **精准剪辑**: 基于AI分析结果进行视频片段剪切
- 📊 **详细报告**: 生成专业的分析报告和剪辑说明

## 🚀 快速开始

### 1. 一键配置
```bash
python quick_setup.py
```
按提示选择AI模型并输入API密钥即可完成配置。

### 2. 运行系统
```bash
python main.py
```

### 3. 文件准备
```
项目目录/
├── 字幕文件.txt        # 字幕文件
├── 字幕文件2.txt       # 更多字幕
├── videos/            # 视频目录
│   ├── 视频1.mp4      # 对应的视频文件
│   └── 视频2.mp4      
└── clips/             # 输出目录（自动创建）
```

## 🤖 支持的AI模型

### 推荐配置（通过中转API）
- **Claude 3.5 Sonnet** - 最佳分析效果
- **DeepSeek R1** - 具有思考链，分析详细
- **GPT-4o** - OpenAI最新模型
- **Gemini 2.5 Pro** - Google最新模型

### API配置示例
```python
# 配置会自动保存到 .ai_config.json
{
    "enabled": true,
    "base_url": "https://www.chataiapi.com/v1",
    "api_key": "sk-your-key-here",
    "model": "claude-3-5-sonnet-20240620"
}
```

## ✨ 核心功能

### 1. 智能剧情分析
- 自动识别剧情类型（法律、爱情、犯罪、家庭等）
- AI分析戏剧冲突和情感高潮点
- 智能推荐最精彩的片段时间点
- 生成跨集连贯性分析

### 2. 自动视频剪辑
- 根据AI分析结果精准剪切视频
- 智能匹配字幕文件和视频文件
- 自动添加标题和说明字幕
- 合并片段生成完整剧集合集

### 3. 专业报告输出
- 详细的AI分析报告
- 每个片段的剪辑理由说明
- 剧情连贯性和衔接点分析
- 适合短视频传播的格式建议

## 🎛️ 使用流程

### 基础分析流程
1. 运行 `python main.py`
2. 选择 "智能分析字幕"
3. 系统自动识别所有字幕文件
4. AI分析生成剧情片段推荐
5. 查看生成的 `智能分析报告.txt`

### 完整剪辑流程
1. 准备字幕文件和对应视频文件
2. 配置AI接口（如未配置）
3. 选择 "智能视频剪辑"
4. 系统自动完成分析和剪辑
5. 在 `clips/` 目录查看结果

## 🔧 高级配置

### 自定义AI接口
```python
# 支持任何OpenAI格式兼容的API
config = {
    "base_url": "https://your-api.com/v1",
    "api_key": "your-key",
    "model": "your-model"
}
```

### 批量处理
系统会自动识别目录中的所有字幕文件，支持：
- `.txt` 和 `.srt` 格式
- 各种命名规则的文件
- 智能集数匹配

## 📊 输出说明

### 分析报告格式
```
📺 E01: 案件调查核心冲突
剧情类型: 法律悬疑
推荐片段: 3 个

🎬 片段 1:
   时间: 00:15:30,000 --> 00:18:45,000
   推荐理由: AI识别的核心戏剧冲突点
   内容: 检察官质疑证据有效性...
```

### 视频输出
- `E01_完整版_法律.mp4` - 单集精华版
- `完整剧集精彩合集.mp4` - 全剧集合版
- 各片段说明文件

## 💡 技术特点

- **智能适应**: 无需预设关键词，AI自动分析剧情
- **多模型支持**: 支持Claude、GPT、DeepSeek等多种模型
- **跨平台兼容**: 支持各种视频格式和字幕格式
- **专业输出**: 适合短视频平台的剪辑格式

## 🎯 适用场景

- 电视剧精彩片段制作
- 短视频内容创作
- 剧情分析和研究
- 自动化视频剪辑

---

💡 **提示**: 系统会根据AI分析结果智能调整剪辑策略，无需手动设置复杂参数。
