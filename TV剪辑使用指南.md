
# 📺 电视剧短视频剪辑系统使用指南

## 🎯 系统功能

本系统专门为电视剧短视频制作设计，能够：

- **每集一个短视频**：每集围绕1个核心剧情点，时长2-3分钟
- **主线剧情优先**：自动识别四二八案、628旧案、听证会等关键剧情
- **智能片段选择**：基于戏剧张力、情感强度、对话质量自动评分
- **跨集连贯性**：每集结尾都有明确的下集衔接说明
- **自动错别字修正**：修正"防衛"→"防卫"等常见错误
- **专业字幕**：自动添加标题和内容说明

## 📁 文件准备

### 1. 字幕文件
将字幕文件放在项目根目录，文件名要包含集数信息：

```
E01.txt             # 第1集字幕
E02.txt             # 第2集字幕
S01E01.txt          # 第1季第1集
第1集.txt           # 中文集数
...
```

### 2. 视频文件
在项目根目录创建`videos/`文件夹，放入对应的视频文件：

```
videos/
├── E01.mp4         # 第1集视频
├── E02.mp4         # 第2集视频
├── S01E01.mkv      # 支持多种格式
├── 第1集.avi       # 中文文件名
...
```

## 🚀 快速开始

### 方法1：一键启动（推荐）
```bash
python start_tv_clipping.py
```

### 方法2：直接运行剪辑器
```bash
python tv_series_clipper.py
```

## 📊 输出结果

### 1. 短视频文件
保存在`series_clips/`目录：

```
series_clips/
├── E01_四二八案申诉启动_案件迎来转机.mp4
├── E02_628旧案疑点浮现_真相即将揭露.mp4
├── E03_听证会激烈辩论_正当防卫争议.mp4
├── E04_张园霸凌证据曝光_案件真相大白.mp4
...
```

### 2. 说明文件
每个视频都有对应的说明文件：

```
E01_四二八案申诉启动_案件迎来转机_说明.txt
内容包括：
- 时间片段和时长
- 核心价值分析
- 关键台词摘录
- 内容摘要
- 下集衔接说明
```

### 3. 总体方案文档
`series_plan.txt` 包含：
- 制作规则说明
- 每集详细方案
- 关键台词列表
- 跨集连贯性分析
- 制作统计信息

## 🎬 剪辑规则

### 单集核心聚焦
- 每集围绕**1个核心剧情点**
- 时长控制在**2-3分钟**
- 避免支线信息干扰

### 片段选择标准
- 优先选取**完整对话/场景**
- 突出**主线相关内容**：
  - 四二八案调查
  - 628旧案疑点
  - 听证会辩论
  - 段洪山父女情感线
- 包含**强戏剧张力**：
  - 证词反转
  - 法律争议
  - 情感爆发点

### 跨集连贯性
- 每集结尾明确**衔接点**
- 人物关系保持**逻辑一致**
- 案件线索**前后呼应**

## 🔧 自定义配置

如需调整剪辑规则，可修改`tv_series_clipper.py`中的配置：

```python
# 调整时长
target_duration = 150  # 2.5分钟

# 添加关键词
self.main_plot_keywords = [
    '四二八案', '628旧案', '听证会',
    # 添加您的关键词
]

# 调整评分权重
score += matches * 5.0  # 主线剧情权重
```

## ❓ 常见问题

### Q: 字幕文件格式不对？
A: 支持标准SRT格式：
```
1
00:01:00,000 --> 00:01:05,000
对话内容

2
00:01:05,000 --> 00:01:10,000
下一段对话
```

### Q: 找不到对应的视频文件？
A: 确保文件名匹配，支持：
- 精确匹配：E01.txt → E01.mp4
- 集数匹配：第1集.txt → E01.mp4
- 模糊匹配：包含相同关键词

### Q: 生成的片段不理想？
A: 系统会自动选择最高分片段，如需调整：
1. 检查字幕文件中的关键词
2. 调整评分权重配置
3. 手动指定时间范围

### Q: 视频质量如何？
A: 使用高质量编码设置：
- 编码器：H.264
- 质量：CRF 23（平衡质量和大小）
- 音频：AAC高质量
- 优化：快速启动

## 🛠️ 技术要求

- Python 3.7+
- FFmpeg（必须）
- 支持的视频格式：MP4, MKV, AVI, MOV, WMV
- 支持的字幕格式：SRT, TXT

## 📈 制作效果

- **高效制作**：自动化处理，节省90%时间
- **剧情连贯**：保持故事线完整性
- **专业字幕**：自动添加标题和说明
- **质量保证**：智能选择最精彩片段
- **适配平台**：输出格式适合各大短视频平台

开始使用吧！🚀
