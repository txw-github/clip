
# 📺 故事线聚焦的电视剧剪辑系统使用指南

## 🎯 系统特色

本系统专门为您的需求设计，完美解决了电视剧短视频制作的核心问题：

### ✨ 核心功能
- **单集核心聚焦**：每集围绕1个核心剧情点，时长精确控制在2-3分钟
- **完整故事线说明**：优先选取主线剧情（四二八案、628旧案、听证会等）
- **精确时间轴标注**：毫秒级时间码，便于专业剪辑操作
- **跨集连贯性保证**：每集结尾明确与下一集的衔接点说明
- **智能错别字修正**：自动修正"防衛"→"防卫"等常见错误

### 🎭 片段选择标准
- **完整对话场景**：确保包含完整的时间轴片段，避免剧情割裂
- **主线剧情优先**：突出四二八案调查、628旧案真相、听证会辩论等核心内容
- **强戏剧张力**：自动识别证词反转、法律争议、情感爆发等高潮时刻

## 📁 文件准备

### 1. 字幕文件
将SRT字幕文件放在 `srt/` 目录中：
```
srt/
├── E01.srt         # 第1集字幕
├── E02.srt         # 第2集字幕
├── S01E03.srt      # 第3集字幕
└── ...
```

### 2. 视频文件
将对应的视频文件放在 `videos/` 目录中：
```
videos/
├── E01.mp4         # 第1集视频
├── E02.mkv         # 第2集视频（支持多种格式）
├── S01E03.avi      # 第3集视频
└── ...
```

## 🚀 一键启动

点击页面上的 **"Run"** 按钮，系统会自动：
1. 创建必要的目录结构
2. 检查文件状态
3. 启动智能分析和剪辑

## 📊 输出结果

### 1. 短视频文件
保存在 `story_clips/` 目录：
```
story_clips/
├── E01_四二八案申诉启动_正当防卫争议浮现.mp4
├── E02_628旧案疑点重重_隐藏真相即将揭露.mp4
├── E03_听证会激烈辩论_正当防卫争议焦点.mp4
└── ...
```

### 2. 详细分析文件
每个视频都有对应的分析文档：
```
E01_四二八案申诉启动_正当防卫争议浮现_故事分析.txt
```

包含：
- **精确时间片段**：`00:15:30,000 --> 00:18:45,000`
- **关键台词**：带完整时间码的核心对话
- **核心价值分析**：该片段的剧情重要性说明
- **下集衔接说明**：与下一集的具体连接点

### 3. 完整报告
`story_focused_analysis_report.txt` 包含：
- 整体故事线分析
- 每集详细方案
- 跨集连贯性说明
- 制作统计信息

## 🎯 输出格式示例

### 短视频主题
```
E07：李慕枫申诉启动，旧案疑点浮现
```

### 具体时间片段
```
精确时间片段：00:12:15,500 --> 00:15:30,200
片段时长：3.2 分钟
```

### 关键台词（带时间码）
```
[00:12:15,500 --> 00:12:18,300] 我要为四二八案申请重新审理
[00:13:45,100 --> 00:13:50,800] 张园的证词存在重大疑点
[00:15:20,000 --> 00:15:25,500] 这不是简单的正当防卫案件
```

### 内容亮点
```
核心价值：四二八案申诉程序正式启动，法律救济路径开启；
628旧案关键线索发现，隐藏真相即将大白
```

### 下集衔接说明
```
本集四二八案申诉程序正式启动，为下一集听证会准备工作和
法律程序推进铺垫
```

## 🛠️ 技术特点

### 智能分析引擎
- **故事线识别**：自动识别主要故事线（四二八案、628旧案等）
- **剧情评分**：基于关键词密度、戏剧张力、位置权重等多维评分
- **自然分割点**：智能寻找对话的自然开始和结束点

### 错别字修正
系统会自动修正常见错误：
- `防衛` → `防卫`
- `正當` → `正当` 
- `証據` → `证据`
- `檢察官` → `检察官`
- 等等...

### 跨集连贯性
- **上下文分析**：考虑前一集的结尾内容
- **故事线追踪**：保持主要人物和案件线索的逻辑一致性
- **衔接点生成**：为每集生成具体的下集连接说明

## 📝 剪辑建议

制作短视频时的专业建议：
1. **严格按照标注时间轴**进行剪辑
2. **保留完整对话**，不要截断重要内容
3. **可添加简短上集回顾**（10-15秒）
4. **片尾可添加下集预告**（5-10秒）
5. **利用关键台词时间码**精确定位重要内容

## 🔧 故障排除

### 常见问题：
- **找不到视频文件**：检查文件名是否包含集数信息
- **字幕解析失败**：确认是标准SRT格式
- **时长不合适**：系统会自动调整到2-3分钟范围

### 支持格式：
- **字幕**：.srt
- **视频**：.mp4, .mkv, .avi, .mov, .wmv, .flv, .ts

---

🎬 **开始制作您的专业短视频吧！点击Run按钮启动系统。**
