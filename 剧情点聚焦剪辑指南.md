
# 🎭 剧情点聚焦剪辑系统使用指南

## 🎯 系统核心功能

本系统专门实现您的需求：**单集核心聚焦，按剧情点分析剪辑**

### ✨ 核心特色
- **剧情点分类分析**：自动识别关键冲突、人物转折、线索揭露、情感爆发、重要对话
- **非连续时间剪辑**：原视频中的片段可以不连续，但剪辑后逻辑连贯
- **智能时长控制**：每个剧情点2-3分钟，总体保持最佳观看体验
- **过渡点识别**：自动识别自然过渡标记，确保片段间流畅衔接
- **多剧情点合并**：一集可包含2-4个剧情点，合并成完整短视频

### 🎭 剧情点分类标准

| 剧情点类型 | 关键词示例 | 理想时长 | 权重评分 |
|----------|-----------|---------|----------|
| **关键冲突** | 冲突、争执、对抗、质疑、反驳 | 3分钟 | 最高 |
| **人物转折** | 决定、改变、选择、转变、觉悟 | 2.5分钟 | 很高 |
| **线索揭露** | 发现、揭露、真相、证据、秘密 | 2.7分钟 | 高 |
| **情感爆发** | 哭、痛苦、绝望、愤怒、激动 | 2.3分钟 | 较高 |
| **重要对话** | 告诉、承认、坦白、解释、澄清 | 2.8分钟 | 中等 |

## 📁 文件准备

### 1. 字幕文件
将SRT字幕文件放在 `srt/` 目录：
```
srt/
├── E01.srt         # 第1集字幕
├── E02.srt         # 第2集字幕
├── S01E03.srt      # 第3集字幕
└── ...
```

### 2. 视频文件
将对应视频文件放在 `videos/` 目录：
```
videos/
├── E01.mp4         # 第1集视频
├── E02.mkv         # 第2集视频
├── S01E03.avi      # 第3集视频
└── ...
```

## 🚀 一键启动

点击页面上的 **"Run"** 按钮，或执行：
```bash
python start_plot_clipper.py
```

## 📊 系统分析流程

### 1. 智能剧情点识别
- **滑动窗口分析**：20个字幕条为一个分析窗口
- **多类型评分**：同时评估5种剧情点类型的得分
- **主线剧情加权**：四二八案、628旧案等主线剧情额外加分
- **位置权重**：考虑剧情点在集中的位置分布

### 2. 剧情点优化
- **去重处理**：自动去除重叠的剧情点
- **时长调整**：扩展或缩减到理想时长范围
- **边界优化**：寻找自然的开始和结束点
- **过渡识别**：标记"然后"、"接着"等过渡词

### 3. 非连续剪辑合并
- **片段分离**：先创建独立的剧情点片段
- **智能合并**：按时间顺序合并，添加自然过渡
- **连贯性保证**：确保合并后的逻辑流畅性

## 📺 输出结果

### 1. 剧情点短视频
保存在 `plot_clips/` 目录：
```
plot_clips/
├── E01_四二八案关键冲突_正当防卫争议激化.mp4
├── E02_628旧案线索揭露_霸凌真相浮现.mp4
├── E03_听证会激烈进行_法庭争议焦点.mp4
└── ...
```

### 2. 详细分析报告
每集都有专门的报告，保存在 `plot_reports/` 目录：
```
plot_reports/
├── E01_剧情点报告.txt
├── E02_剧情点报告.txt
├── E03_剧情点报告.txt
└── ...
```

**报告内容包括：**
- 剧情点类型和评分
- 精确时间标注和关键台词
- 剧情意义分析
- 过渡点识别结果
- 内容摘要和制作说明

### 3. 总体分析报告
`plot_point_analysis_report.txt` 包含：
- 剧情点类型分布统计
- 各集剧情点详情
- 系统制作优势分析

## 🎬 剧情点示例

### 关键冲突示例
```
E07：四二八案关键冲突，正当防卫争议激化
时间片段：
  - 00:15:30 --> 00:17:45 (法庭争议)
  - 00:23:10 --> 00:25:20 (证据质疑)
  - 00:31:50 --> 00:33:40 (激烈对抗)
```

### 人物转折示例
```
E08：段洪山态度转变，关键决定时刻
时间片段：
  - 00:12:20 --> 00:14:15 (内心挣扎)
  - 00:28:40 --> 00:31:10 (重要决定)
```

### 线索揭露示例
```
E09：628旧案线索揭露，霸凌真相浮现
时间片段：
  - 00:08:30 --> 00:10:50 (线索发现)
  - 00:19:15 --> 00:21:40 (真相披露)
  - 00:35:20 --> 00:37:00 (证据确认)
```

## 🔧 技术特点

### 1. 智能分析算法
- **多维度评分**：关键词密度、情感强度、对话质量
- **上下文理解**：考虑剧情发展脉络和角色关系
- **主线识别**：自动识别四二八案、628旧案等主线剧情

### 2. 非连续剪辑技术
- **时间段分离**：原视频中的重要时刻可能分布在不同位置
- **逻辑重组**：按剧情发展逻辑重新排列
- **自然衔接**：添加过渡效果确保观看流畅

### 3. 质量保证机制
- **边界优化**：寻找"现在"、"这时"等自然开始点
- **时长控制**：严格控制在2-3分钟范围内
- **连贯性检查**：确保剪辑后的逻辑合理

## 📝 使用技巧

### 1. 文件命名建议
- 字幕文件：`E01.srt`, `S01E02.srt`, `第3集.srt`
- 视频文件：对应的 `.mp4`, `.mkv`, `.avi` 等格式

### 2. 内容优化建议
- 确保字幕文件完整且时间准确
- 视频质量良好，便于后期处理
- 集数命名规范，便于自动匹配

### 3. 结果应用建议
- 适合短视频平台传播
- 可用于剧情解说和分析
- 便于快速回顾核心剧情

## ⚠️ 注意事项

1. **系统要求**：确保已安装FFmpeg用于视频处理
2. **文件匹配**：字幕和视频文件名要能正确对应
3. **存储空间**：确保有足够空间存储输出视频
4. **处理时间**：复杂剧情点分析可能需要较长时间

## 🎉 预期效果

使用本系统，您将获得：

- **精准剧情定位**：每个剧情点都是经过智能分析的核心时刻
- **完整故事脉络**：多剧情点组合呈现完整的故事发展
- **灵活时间组合**：支持非连续时间段的自然合并
- **专业制作质量**：详细分析报告和精确时间标注
- **观看体验优化**：智能过渡确保流畅观看

立即点击 **"Run"** 按钮开始体验剧情点聚焦剪辑！
