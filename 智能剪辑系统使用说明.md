
# 🚀 智能电视剧剪辑系统使用说明

## 🤖 系统特点

这是一个基于AI的智能电视剧剪辑系统，具有以下特点：

### ✨ 智能特性
- **自动剧情类型识别**: 自动识别法律剧、爱情剧、悬疑剧等不同类型
- **AI驱动分析**: 可选择启用AI增强分析，提升精彩片段识别准确性
- **自适应评分**: 根据剧情类型动态调整评分权重
- **智能边界优化**: 自动寻找自然的片段开始和结束点
- **多格式支持**: 支持SRT、TXT等多种字幕格式

### 🎯 输出特性
- **每集一个短视频**: 2-3分钟核心剧情片段
- **专业标题生成**: 根据剧情内容自动生成吸引人的标题
- **详细说明文档**: 每个视频都有完整的制作说明
- **跨集连贯性**: 自动分析下一集的剧情衔接

## 🚀 快速开始

### 1. 运行系统
点击"Run"按钮或执行：
```bash
python start_intelligent_clipper.py
```

### 2. 配置AI（可选）
```bash
python configure_ai.py
```

### 3. 准备文件

#### 字幕文件
将字幕文件放在项目根目录，支持以下命名格式：
```
S01E01.txt          # 第1集
S01E02.srt          # 第2集
第3集.txt           # 第3集
EP04.txt            # 第4集
```

#### 视频文件
在项目根目录创建`videos/`文件夹，放入对应视频：
```
videos/
├── S01E01.mp4
├── S01E02.mkv
├── 第3集.avi
└── EP04.mp4
```

## 📊 输出结果

### 视频文件
```
intelligent_clips/
├── E01_案件申诉启动_法律较量升级.mp4
├── E02_情感告白时刻_爱情甜蜜升温.mp4
└── E03_案件侦破关键_真凶即将落网.mp4
```

### 说明文件
每个视频都有详细说明：
```
E01_案件申诉启动_法律较量升级_说明.txt
```

包含：
- 剧情类型和AI分析状态
- 精彩度评分
- 关键台词（带时间码）
- 剧情意义分析
- 下集衔接说明

### 分析报告
`intelligent_tv_analysis_report.txt` 包含：
- 智能系统信息
- 每集详细分析
- 整体统计数据

## 🎭 剧情类型支持

系统能自动识别以下剧情类型：

- **法律剧** (legal): 法庭、案件、辩护
- **爱情剧** (romance): 表白、约会、分手
- **悬疑剧** (crime): 调查、破案、真凶
- **家庭剧** (family): 亲情、成长、团聚
- **古装剧** (historical): 宫廷、政治、战争
- **都市剧** (modern): 职场、商战、创业

## 🤖 AI配置选项

### 1. 不使用AI
- 纯规则分析，免费使用
- 基于关键词和评分算法
- 适合一般需求

### 2. 启用AI增强
- 提升片段识别准确性
- 更智能的内容理解
- 需要API密钥

#### 支持的AI服务
- **OpenAI官方**: GPT-3.5, GPT-4
- **中转API**: 便宜稳定的替代方案
- **自定义API**: 支持任何OpenAI兼容接口

## 📋 使用技巧

### 1. 字幕文件准备
- 确保文件名包含集数信息
- 支持中英文文件名
- 自动修正常见错别字

### 2. 视频文件匹配
- 字幕和视频文件名尽量相似
- 系统会自动进行智能匹配
- 支持多种视频格式

### 3. 提升分析效果
- 字幕内容越丰富，分析越准确
- AI分析需要稳定网络连接
- 可以批量处理多集

## ❓ 常见问题

### Q: 找不到对应的视频文件？
A: 确保videos/目录存在，文件名包含集数信息，如E01、第1集等

### Q: AI分析失败？
A: 检查网络连接和API密钥，系统会自动回退到规则分析

### Q: 生成的片段太短或太长？
A: 系统会自动调整到2-3分钟，如需自定义可修改代码参数

### Q: 支持哪些视频格式？
A: 支持MP4、MKV、AVI、MOV、WMV、FLV、TS等常见格式

## 🔧 高级配置

### 修改目标时长
在`intelligent_tv_clipper.py`中找到：
```python
target_duration = 120  # 修改为你想要的秒数
```

### 调整评分阈值
```python
if score > best_score and score >= 3.0:  # 修改阈值
```

### 自定义剧情类型
在`genre_patterns`中添加新的剧情类型定义

## 📞 技术支持

如果遇到问题：
1. 查看控制台输出的错误信息
2. 检查文件路径和命名规范
3. 确认依赖包已正确安装
4. 查看生成的说明文件了解分析过程

祝您使用愉快！🎉
